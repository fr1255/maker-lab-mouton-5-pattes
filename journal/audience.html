<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<title>Audience â€“ Maker Lab</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- GoatCounter -->
<script data-goatcounter="https://fr1255.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>

<style>
:root{
  --bg:#0b0f14;
  --card:#111824;
  --text:#e7eef7;
  --muted:#a9b4c4;
  --line:rgba(255,255,255,.12);
  --accent:#58a6ff;
  --radius:16px;
  --max:980px;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:system-ui,sans-serif;
  background:
    radial-gradient(900px 600px at 20% 10%, rgba(126,231,135,.15), transparent 60%),
    radial-gradient(900px 600px at 80% 0%, rgba(88,166,255,.18), transparent 55%),
    var(--bg);
  color:var(--text);
}

header{
  position:fixed;
  top:0;
  right:0;
  padding:16px 24px;
}

header a{
  margin-left:8px;
  padding:6px 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.25);
  text-decoration:none;
  color:var(--text);
  font-size:14px;
}

header a:hover{border-color:var(--accent)}

.wrap{
  max-width:var(--max);
  margin:auto;
  padding:96px 16px 60px;
}

.card{
  background:rgba(17,24,36,.7);
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:22px;
  margin-top:24px;
}

.stat{
  font-size:42px;
  font-weight:700;
  margin-top:6px;
}

.small{
  font-size:13px;
  color:var(--muted);
}
</style>
</head>

<body>

<header>
  <a href="/maker-lab-mouton-5-pattes/">Accueil</a>
  <a href="/maker-lab-mouton-5-pattes/journal/">Journal</a>
</header>

<div class="wrap">

<h1>ðŸ“ˆ Audience</h1>
<p class="small">DonnÃ©es collectÃ©es automatiquement via GoatCounter.</p>

<section class="card">
  <h2>Visites totales</h2>
  <div class="stat" id="total">â€“</div>
  <div class="small">Toutes pages confondues</div>
</section>

<section class="card">
  <h2>Pages suivies</h2>
  <ul id="pages" class="small"></ul>
</section>

</div>

<script>
async function loadStats(){
  try{
    const res = await fetch("https://fr1255.goatcounter.com/counter.json");
    const data = await res.json();

    document.getElementById("total").textContent = data.count;

    const pages = document.getElementById("pages");
    pages.innerHTML = "";

    for(const path in data.paths){
      const li = document.createElement("li");
      li.textContent = `${path} â€” ${data.paths[path]} visites`;
      pages.appendChild(li);
    }

  }catch(e){
    document.getElementById("total").textContent = "Erreur";
  }
}

loadStats();
</script>

</body>
</html>
